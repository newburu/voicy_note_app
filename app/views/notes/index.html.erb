<h2>マイノート一覧</h2>

<div id="notes-list">
  <% if @notes.any? %>
    <% @notes.each do |note| %>
      <div class="note-card">
        <h3>
          <%= link_to note.title || "タイトルなし", note.voicy_url, target: "_blank" %>
        </h3>
        <p>
          <strong>パーソナリティ:</strong> <%= note.personality_name || "未設定" %><br>
          <strong>チャンネル:</strong> <%= note.channel_name || "未設定" %><br>
          <strong>時間帯:</strong> <%= note.start_time || "未設定" %>
        </p>
        <p>
          <strong>メモ:</strong><br>
          <%= simple_format(truncate(note.body, length: 150)) %>
        </p>
        
        <div class="note-actions">
          <%#= link_to '詳細', note_path(note) %>
          <%#= link_to '編集', edit_note_path(note) %>
          <%#= link_to '削除', note_path(note), data: { "turbo-method": :delete, "turbo-confirm": "本当に削除しますか？" } %>
        </div>
      </div>
      <hr>
    <% end %>
  <% else %>
    <p>まだメモがありません。</p>
    <%= link_to '最初のメモを作成する', new_note_path %>
  <% end %>
</div>

<style>
  .note-card {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
  }
  .note-card h3 {
    margin-top: 0;
  }
  .note-actions a {
    margin-right: 10px;
  }
</style>